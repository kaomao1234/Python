<ChatItem>:
    Label:
        id: chat_item_label
        text: root.message_text 
        on_texture_size:root.on_texture_size(self)
        markup: True
        halign: 'left' if root.mode == 'receiver' else 'right' if root.mode == 'sender' else 'center'
        valign: 'middle'
        width: self.texture_size[0]
        size_hint: (None, None) if root.mode not in ['receiver', 'sender'] else (0.8, None)
        text_size: (self.width, None) if root.mode in ['receiver', 'sender'] else (None, None)